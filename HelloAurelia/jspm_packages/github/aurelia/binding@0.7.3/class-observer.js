/* */ 
System.register([], function (_export) {
  'use strict';

  var ClassObserver;

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

  return {
    setters: [],
    execute: function () {
      ClassObserver = (function () {
        function ClassObserver(element) {
          _classCallCheck(this, ClassObserver);

          this.element = element;
          this.doNotCache = true;
          this.value = '';
          this.version = 0;
        }

        ClassObserver.prototype.getValue = function getValue() {
          return this.value;
        };

        ClassObserver.prototype.setValue = function setValue(newValue) {
          var nameIndex = this.nameIndex || {},
              version = this.version,
              names,
              name,
              i;

          if (newValue !== null && newValue !== undefined && newValue.length) {
            names = newValue.split(' ');
            i = names.length;
            while (i--) {
              name = names[i];
              if (name === '') {
                continue;
              }
              nameIndex[name] = version;
              this.element.classList.add(name);
            }
          }

          this.value = newValue;
          this.nameIndex = nameIndex;
          this.version += 1;

          if (version === 0) {
            return;
          }

          version -= 1;
          for (name in nameIndex) {
            if (!nameIndex.hasOwnProperty(name) || nameIndex[name] !== version) {
              continue;
            }
            this.element.classList.remove(name);
          }
        };

        ClassObserver.prototype.subscribe = function subscribe(callback) {
          throw new Error('Observation of a "' + this.element.nodeName + '" element\'s "class" property is not supported.');
        };

        return ClassObserver;
      })();

      _export('ClassObserver', ClassObserver);
    }
  };
});